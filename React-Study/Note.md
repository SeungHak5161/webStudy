# 코드 재사용 정리

### composition(합성) / custom hook / HOC의 비교

### <br/>

## 코드 재사용의 이유, 필요성

- 구현시의 편의성
- 해당 코드 수정 시, 이를 재사용 하는 모든 곳에서 수정이 적용됨(유지보수의 이점)

### <br/>

| 방식        | 원리/구현                                                                               | 비고                                                            |
| ----------- | --------------------------------------------------------------------------------------- | --------------------------------------------------------------- |
| composition | 다른 컴포넌트를 props로 받아 함께 렌더링 함                                             |
| custom hook | 원하는 훅들을 묶어서 하나의 훅으로 만듦                                                 | useBlabla 형식 필요, useState와 같은 훅이 가장 먼저 호출되야 함 |
| HOC         | 동일한 기능을 제공하는 컴포넌트들에서 기능을 추출하고 여기에 컴포넌트를 전달하여 재사용 | 3.7 예시 참고                                                   |

# <br/>

# 재조정(Reconciliation)

#### React는 state나 props의 수정이 생겼을때, 높은 시간복잡도를 가지는 트리 변환 알고리즘 대신, 선수하는 가정을 기반하는 낮은 시간복잡도의 알고리즘 사용

### <br/>

## 비교 알고리즘

- ### 엘리먼트 타입이 다른 경우

  트리 전체를 재구축 함, 이 때 이전 트리와 연관된(하위 등) 모든 state는 사라짐

### <br/>

- ### 엘리먼트의 속성이 다른 경우

  DOM 노드의 변경된 속성에 해당하는 부분만 수정, 이후 재귀적으로 처리

### <br/>

- ### 같은 타입의 엘리먼트

  인스턴트는 동일하게 유지되어 state가 유지 됨

### <br/>

### - 자식에 대해서도 재귀적으로 처리됨

하지만 이 경우, (예시) 트리의 변경점이 리스트의 맨 위에 있는 리스트의 경우 변환의 효율성이 매우 나빠짐 -> key를 통해 해결
