<!DOCTYPE html>
<html lang="en">

<style>
  .button {
    background-color: green;
    border: none;
    color: white;
    display: inline-block;
    text-align: center;
    /* justify-content: center; */
    padding: 12px 25px;
    margin: 3px;
    font-size: 15px;
    font-weight: bold;
  }

  .blue {
    background-color: blue;
  }

  .red {
    background-color: red;
  }

  .gray {
    background-color: gray;
    color: black;
  }

  .black {
    background-color: black;
  }
</style>

<body>
  <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <div id="root"></div>
  <script type="text/babel">
    const rootElement=document.getElementById("root")

    // 에러 핸들링을 하는 컴포넌트는 클래스 컴포넌트로만 제공함
    class ErrorBoundary extends React.Component{
      state={error:null}
      static getDerivedStateFromError(error){
        return {error}
      }

      render(){
        const {error}=this.state
        if(error){
          return <this.props.fallback error={error}/>
        }
        return this.props.children;
      }
    }
    
    const Fallback=({error})=>{
      alert(error.message)
      return <p>{error.message}</p>
    }

    const Child=()=>{
      throw new Error("Something Wrong")
      return <p>Child..</p>
    }

    const App = () => {
      return(
        <>
        <p>App</p>
        <ErrorBoundary fallback={Fallback}>
          <Child/>
        </ErrorBoundary>
        </>
      )
    }

    ReactDOM.render(<App/>,rootElement)
  </script>
</body>

</html>